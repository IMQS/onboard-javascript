var __awaiter=this&&this.__awaiter||function(r,i,c,u){return new(c=c||Promise)(function(e,t){function n(r){try{a(u.next(r))}catch(r){t(r)}}function o(r){try{a(u.throw(r))}catch(r){t(r)}}function a(r){var t;r.done?e(r.value):((t=r.value)instanceof c?t:new c(function(r){r(t)})).then(n,o)}a((u=u.apply(r,i||[])).next())})},__generator=this&&this.__generator||function(e,n){var o,a,i,c={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},r={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function t(t){return function(r){return function(t){if(o)throw new TypeError("Generator is already executing.");for(;c;)try{if(o=1,a&&(i=2&t[0]?a.return:t[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,t[1])).done)return i;switch(a=0,i&&(t=[2&t[0],i.value]),t[0]){case 0:case 1:i=t;break;case 4:return c.label++,{value:t[1],done:!1};case 5:c.label++,a=t[1],t=[0];continue;case 7:t=c.ops.pop(),c.trys.pop();continue;default:if(!(i=0<(i=c.trys).length&&i[i.length-1])&&(6===t[0]||2===t[0])){c=0;continue}if(3===t[0]&&(!i||t[1]>i[0]&&t[1]<i[3])){c.label=t[1];break}if(6===t[0]&&c.label<i[1]){c.label=i[1],i=t;break}if(i&&c.label<i[2]){c.label=i[2],c.ops.push(t);break}i[2]&&c.ops.pop(),c.trys.pop();continue}t=n.call(e,c)}catch(r){t=[6,r],a=0}finally{o=i=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,r])}}},onboardproject=onboardproject||{};(function(){var c,r=this,n=50;function u(){return __awaiter(this,void 0,Promise,function(){var t,e;return __generator(this,function(r){switch(r.label){case 0:return[4,fetch("http://localhost:2050/recordCount")];case 1:if(!(t=r.sent()).ok)throw e="An error has occured: "+t.status,new Error(e);return[2,t.json()]}})})}function s(s,l){return __awaiter(this,void 0,Promise,function(){var t,e,n,o,a,i,c,u;return __generator(this,function(r){switch(r.label){case 0:return[4,function(n,o){return __awaiter(this,void 0,Promise,function(){var t,e;return __generator(this,function(r){switch(r.label){case 0:return[4,fetch("http://localhost:2050/records?from="+n+"&to="+o)];case 1:if(!(t=r.sent()).ok)throw e="An error has occured: "+t.status,new Error(e);return[2,t.json()]}})})}(s,l)];case 1:for(t=r.sent(),e="",n=0,o=t;n<o.length;n++){for(a=o[n],e+='<tr id="table-row-'+a[0]+'">',i=0,c=a;i<c.length;i++)u=c[i],e+='<td align="center">'+u+"</td>";e+="</tr>",$("#wrapper-table-content-body").empty(),$("#wrapper-table-content-body").append(e)}return[2,[s,l]]}})})}function e(i,c){return __awaiter(this,void 0,Promise,function(){var t,e,n,o,a;return __generator(this,function(r){switch(r.label){case 0:return t="",[4,function(){return __awaiter(this,void 0,Promise,function(){var t,e;return __generator(this,function(r){switch(r.label){case 0:return[4,fetch("http://localhost:2050/columns")];case 1:if(!(t=r.sent()).ok)throw e="An error has occured: "+t.status,new Error(e);return[2,t.json()]}})})}()];case 1:for(e=r.sent(),n=0,o=e;n<o.length;n++)a=o[n],t+='<th align="center">'+a+"</th>",$("#wrapper-table-header-row").empty(),$("#wrapper-table-header-row").append(t);return[2,s(i,c)]}})})}function a(r,t){switch(void 0===t&&(t=!0),typeof r){case"string":return 1==t?parseInt(r):parseFloat(r);case"number":return r}return 0}function l(r){var t=r+Math.max(window.innerHeight-$("#form-content").innerHeight()),e=0;switch(e){case 0:case 1:case 2:window.innerHeight;break;default:e=15}return e+t}function h(r){for(var t=a(r.sort(function(r,t){return r-t})[0]),e=a(r.sort(function(r,t){return r-t})[1]),n=$(window).innerHeight()-$("#table-row-"+t).height(),o=t;o<=e;o++){if(!($("#table-row-"+o).offset().top<n))return o}return e}window.onload=function(){return __awaiter(r,void 0,void 0,function(){var t=this;return __generator(this,function(r){switch(r.label){case 0:return window.onresize=function(){try{var e=l(c[0]);clearTimeout(n),n=setTimeout(function(){return __awaiter(t,void 0,void 0,function(){var t;return __generator(this,function(r){switch(r.label){case 0:return[4,u()];case 1:return(t=r.sent())-1<=e?[4,s(t-1-(l(c[0])-c[0]),t-1)]:[3,3];case 2:return c=r.sent(),[3,5];case 3:return[4,s(c[0],e)];case 4:c=r.sent(),r.label=5;case 5:return[2]}})})},250)}catch(r){}},[4,e(0,l(0))];case 1:return c=r.sent(),$("#previous").click(function(){return __awaiter(t,void 0,void 0,function(){var n,o,a,i;return __generator(this,function(r){switch(r.label){case 0:return[4,u()];case 1:return n=r.sent(),e=l((t=c)[0]-(h(t)-t[0])),c=[t[0]-(h(t)-t[0]),e],o=0<=c[0]?c[0]:0,a=l(o)-o,i=0<=c[0]?c[1]:a,[4,s(o=o==n-1?o-a:o,i=i<=n-1?i:n-1)];case 2:return c=r.sent(),[2]}var t,e})})}),$("#next").click(function(){return __awaiter(t,void 0,void 0,function(){var t,e,n;return __generator(this,function(r){switch(r.label){case 0:return r.trys.push([0,7,,8]),[4,u()];case 1:return(t=r.sent(),e=h(c),n=l(e)-e,e<=t-n-1)?[4,s(e,e+n<=t-1?e+n:t-1)]:[3,3];case 2:return c=r.sent(),[3,6];case 3:return e<=t-1?[4,s(t-1-(l(e)-e),t-1)]:[3,5];case 4:return c=r.sent(),[3,6];case 5:throw new Error("Error 404");case 6:return[3,8];case 7:return r.sent(),[3,8];case 8:return[2]}})})}),$("#go-button").click(function(){return __awaiter(t,void 0,void 0,function(){var t,e,n;return __generator(this,function(r){switch(r.label){case 0:return[4,u()];case 1:return(t=r.sent(),e=a($("#index").val(),!1),n=l(e)-e,e<0)?(alert("only insert Id greater than or equal to 0"),[3,5]):[3,2];case 2:return Math.floor(e).toString()==e.toString()!=!0?[3,5]:t-n<e?(alert("You may not insert a desired Id greater than "+(t-n)),[3,5]):[3,3];case 3:return[4,s(e,e+n<t?e+n:t-1)];case 4:c=r.sent(),r.label=5;case 5:return[2]}})})}),[2]}})})}})();