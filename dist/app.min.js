var __awaiter=this&&this.__awaiter||function(t,i,c,u){return new(c=c||Promise)(function(r,e){function n(t){try{a(u.next(t))}catch(t){e(t)}}function o(t){try{a(u.throw(t))}catch(t){e(t)}}function a(t){var e;t.done?r(t.value):((e=t.value)instanceof c?e:new c(function(t){t(e)})).then(n,o)}a((u=u.apply(t,i||[])).next())})},__generator=this&&this.__generator||function(r,n){var o,a,i,c={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},t={next:e(0),throw:e(1),return:e(2)};return"function"==typeof Symbol&&(t[Symbol.iterator]=function(){return this}),t;function e(e){return function(t){return function(e){if(o)throw new TypeError("Generator is already executing.");for(;c;)try{if(o=1,a&&(i=2&e[0]?a.return:e[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,e[1])).done)return i;switch(a=0,i&&(e=[2&e[0],i.value]),e[0]){case 0:case 1:i=e;break;case 4:return c.label++,{value:e[1],done:!1};case 5:c.label++,a=e[1],e=[0];continue;case 7:e=c.ops.pop(),c.trys.pop();continue;default:if(!(i=0<(i=c.trys).length&&i[i.length-1])&&(6===e[0]||2===e[0])){c=0;continue}if(3===e[0]&&(!i||e[1]>i[0]&&e[1]<i[3])){c.label=e[1];break}if(6===e[0]&&c.label<i[1]){c.label=i[1],i=e;break}if(i&&c.label<i[2]){c.label=i[2],c.ops.push(e);break}i[2]&&c.ops.pop(),c.trys.pop();continue}e=n.call(r,c)}catch(t){e=[6,t],a=0}finally{o=i=0}if(5&e[0])throw e[1];return{value:e[0]?e[1]:void 0,done:!0}}([e,t])}}},onboardproject=onboardproject||{};(function(){var c,t=this,n=50;function u(){return __awaiter(this,void 0,Promise,function(){var e,r;return __generator(this,function(t){switch(t.label){case 0:return[4,fetch("http://localhost:2050/recordCount")];case 1:if(!(e=t.sent()).ok)throw r="An error has occured: "+e.status,new Error(r);return console.log(e),[2,e.json()]}})})}function s(s,l){return __awaiter(this,void 0,Promise,function(){var e,r,n,o,a,i,c,u;return __generator(this,function(t){switch(t.label){case 0:return[4,function(n,o){return __awaiter(this,void 0,Promise,function(){var e,r;return __generator(this,function(t){switch(t.label){case 0:return[4,fetch("http://localhost:2050/records?from="+n+"&to="+o)];case 1:if((e=t.sent()).ok)return[2,e.json()];throw r="An error has occured: "+e.status,new Error(r)}})})}(s,l)];case 1:for(e=t.sent(),r="",n=0,o=e;n<o.length;n++){for(a=o[n],r+='<tr id="table-row-'+a[0]+'">',i=0,c=a;i<c.length;i++)u=c[i],r+='<td align="center">'+u+"</td>";r+="</tr>",$("#wrapper-table-content-body").empty(),$("#wrapper-table-content-body").append(r)}return[2,[s,l]]}})})}function r(i,c){return __awaiter(this,void 0,Promise,function(){var e,r,n,o,a;return __generator(this,function(t){switch(t.label){case 0:return e="",[4,function(){return __awaiter(this,void 0,Promise,function(){var e,r;return __generator(this,function(t){switch(t.label){case 0:return[4,fetch("http://localhost:2050/columns")];case 1:if((e=t.sent()).ok)return[2,e.json()];throw r="An error has occured: "+e.status,new Error(r)}})})}()];case 1:for(r=t.sent(),n=0,o=r;n<o.length;n++)a=o[n],e+='<th align="center">'+a+"</th>",$("#wrapper-table-header-row").empty(),$("#wrapper-table-header-row").append(e);return[2,s(i,c)]}})})}function a(t,e){switch(void 0===e&&(e=!0),typeof t){case"string":return 1==e?parseInt(t):parseFloat(t);case"number":return t;default:return 0}}function l(t){var e=t+Math.max(window.innerHeight-$("#form-content").innerHeight()),r=0;switch(r){case 0:case 1:case 2:window.innerHeight;break;default:r=15}return r+e}function f(t){for(var e=a(t.sort(function(t,e){return t-e})[0]),r=a(t.sort(function(t,e){return t-e})[1]),n=$(window).innerHeight()-$("#table-row-"+e).height(),o=e;o<=r;o++){if(!($("#table-row-"+o).offset().top<n))return o}return r}window.onload=function(){return __awaiter(t,void 0,void 0,function(){var e=this;return __generator(this,function(t){switch(t.label){case 0:return window.onresize=function(){try{var r=l(c[0]);clearTimeout(n),n=setTimeout(function(){return __awaiter(e,void 0,void 0,function(){var e;return __generator(this,function(t){switch(t.label){case 0:return[4,u()];case 1:return(e=t.sent())-1<=r?[4,s(e-1-(l(c[0])-c[0]),e-1)]:[3,3];case 2:return c=t.sent(),[3,5];case 3:return[4,s(c[0],r)];case 4:c=t.sent(),t.label=5;case 5:return[2]}})})},10)}catch(t){}},[4,r(0,l(0))];case 1:return c=t.sent(),$("#previous").click(function(){return __awaiter(e,void 0,void 0,function(){var n,o,a,i;return __generator(this,function(t){switch(t.label){case 0:return[4,u()];case 1:return n=t.sent(),r=l((e=c)[0]-(f(e)-e[0])),c=[e[0]-(f(e)-e[0]),r],o=0<=c[0]?c[0]:0,a=l(o)-o,i=0<=c[0]?c[1]:a,[4,s(o=o==n-1?o-a:o,i=i<=n-1?i:n-1)];case 2:return c=t.sent(),[2]}var e,r})})}),$("#next").click(function(){return __awaiter(e,void 0,void 0,function(){var e,r,n;return __generator(this,function(t){switch(t.label){case 0:return t.trys.push([0,6,,7]),[4,u()];case 1:return(e=t.sent(),r=f(c),n=l(r)-r,r<=e-n-1)?[4,s(r,r+n<=e-1?r+n:e-1)]:[3,3];case 2:return c=t.sent(),[3,5];case 3:return r<=e-1?[4,s(e-1-(l(r)-r),e-1)]:[3,5];case 4:return c=t.sent(),[3,5];case 5:return[3,7];case 6:return t.sent(),[3,7];case 7:return[2]}})})}),$("#go-button").click(function(){return __awaiter(e,void 0,void 0,function(){var e,r,n;return __generator(this,function(t){switch(t.label){case 0:return[4,u()];case 1:return(e=t.sent(),r=a($("#index").val(),!1),n=l(r)-r,r<0)?(alert("only insert Id greater than or equal to 0"),[3,6]):[3,2];case 2:return Math.floor(r).toString()==r.toString()!=!0?[3,6]:e-n<r?(alert("You may not insert a desired Id greater than "+(e-n)),[3,5]):[3,3];case 3:return[4,s(r,r+n<e?r+n:e-1)];case 4:c=t.sent(),t.label=5;case 5:return[3,6];case 6:return[2]}})})}),[2]}})})}})();