var __awaiter=this&&this.__awaiter||function(t,i,c,u){return new(c=c||Promise)(function(e,r){function n(t){try{a(u.next(t))}catch(t){r(t)}}function o(t){try{a(u.throw(t))}catch(t){r(t)}}function a(t){var r;t.done?e(t.value):((r=t.value)instanceof c?r:new c(function(t){t(r)})).then(n,o)}a((u=u.apply(t,i||[])).next())})},__generator=this&&this.__generator||function(e,n){var o,a,i,c={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},t={next:r(0),throw:r(1),return:r(2)};return"function"==typeof Symbol&&(t[Symbol.iterator]=function(){return this}),t;function r(r){return function(t){return function(r){if(o)throw new TypeError("Generator is already executing.");for(;c;)try{if(o=1,a&&(i=2&r[0]?a.return:r[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,r[1])).done)return i;switch(a=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return c.label++,{value:r[1],done:!1};case 5:c.label++,a=r[1],r=[0];continue;case 7:r=c.ops.pop(),c.trys.pop();continue;default:if(!(i=0<(i=c.trys).length&&i[i.length-1])&&(6===r[0]||2===r[0])){c=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){c.label=r[1];break}if(6===r[0]&&c.label<i[1]){c.label=i[1],i=r;break}if(i&&c.label<i[2]){c.label=i[2],c.ops.push(r);break}i[2]&&c.ops.pop(),c.trys.pop();continue}r=n.call(e,c)}catch(t){r=[6,t],a=0}finally{o=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,t])}}},onboardproject=onboardproject||{};(function(){var c,t=this,n=50;function u(){return __awaiter(this,void 0,Promise,function(){var r,e;return __generator(this,function(t){switch(t.label){case 0:return[4,fetch("http://localhost:2050/recordCount")];case 1:if(!(r=t.sent()).ok)throw e="An error has occured: "+r.status,new Error(e);return console.log(r),[2,r.json()]}})})}function s(s,l){return __awaiter(this,void 0,Promise,function(){var r,e,n,o,a,i,c,u;return __generator(this,function(t){switch(t.label){case 0:return[4,function(n,o){return __awaiter(this,void 0,Promise,function(){var r,e;return __generator(this,function(t){switch(t.label){case 0:return[4,fetch("http://localhost:2050/records?from="+n+"&to="+o)];case 1:if((r=t.sent()).ok)return[2,r.json()];throw e="An error has occured: "+r.status,new Error(e)}})})}(s,l)];case 1:for(r=t.sent(),e="",n=0,o=r;n<o.length;n++){for(a=o[n],e+='<tr id="table-row-'+a[0]+'">',i=0,c=a;i<c.length;i++)u=c[i],e+='<td align="center">'+u+"</td>";e+="</tr>",$("#wrapper-table-content-body").empty(),$("#wrapper-table-content-body").append(e)}return[2,[s,l]]}})})}function e(i,c){return __awaiter(this,void 0,Promise,function(){var r,e,n,o,a;return __generator(this,function(t){switch(t.label){case 0:return r="",[4,function(){return __awaiter(this,void 0,Promise,function(){var r,e;return __generator(this,function(t){switch(t.label){case 0:return[4,fetch("http://localhost:2050/columns")];case 1:if((r=t.sent()).ok)return[2,r.json()];throw e="An error has occured: "+r.status,new Error(e)}})})}()];case 1:for(e=t.sent(),n=0,o=e;n<o.length;n++)a=o[n],r+='<th align="center">'+a+"</th>",$("#wrapper-table-header-row").empty(),$("#wrapper-table-header-row").append(r);return[2,s(i,c)]}})})}function a(t,r){switch(void 0===r&&(r=!0),typeof t){case"string":return 1==r?parseInt(t):parseFloat(t);case"number":return t;default:return 0}}function l(t){var r=t+Math.max(window.innerHeight-$("#form-content").innerHeight()),e=0;switch(e){case 0:case 1:case 2:window.innerHeight;break;default:e=15}return e+r}function h(t){for(var r=a(t.sort(function(t,r){return t-r})[0]),e=a(t.sort(function(t,r){return t-r})[1]),n=$(window).innerHeight()-$("#table-row-"+r).height(),o=r;o<=e;o++){if(!($("#table-row-"+o).offset().top<n))return o}return e}window.onload=function(){return __awaiter(t,void 0,void 0,function(){var r=this;return __generator(this,function(t){switch(t.label){case 0:return window.onresize=function(){try{var e=l(c[0]);clearTimeout(n),n=setTimeout(function(){return __awaiter(r,void 0,void 0,function(){var r;return __generator(this,function(t){switch(t.label){case 0:return[4,u()];case 1:return(r=t.sent())-1<=e?[4,s(r-1-(l(c[0])-c[0]),r-1)]:[3,3];case 2:return c=t.sent(),[3,5];case 3:return[4,s(c[0],e)];case 4:c=t.sent(),t.label=5;case 5:return[2]}})})},10)}catch(t){}},[4,e(0,l(0))];case 1:return c=t.sent(),$("#previous").click(function(){return __awaiter(r,void 0,void 0,function(){var n,o,a,i;return __generator(this,function(t){switch(t.label){case 0:return[4,u()];case 1:return n=t.sent(),e=l((r=c)[0]-(h(r)-r[0])),c=[r[0]-(h(r)-r[0]),e],o=0<=c[0]?c[0]:0,a=l(o)-o,i=0<=c[0]?c[1]:a,[4,s(o=o==n-1?o-a:o,i=i<=n-1?i:n-1)];case 2:return c=t.sent(),[2]}var r,e})})}),$("#next").click(function(){return __awaiter(r,void 0,void 0,function(){var r,e,n;return __generator(this,function(t){switch(t.label){case 0:return t.trys.push([0,7,,8]),[4,u()];case 1:return(r=t.sent(),e=h(c),n=l(e)-e,e<=r-n-1)?[4,s(e,e+n<=r-1?e+n:r-1)]:[3,3];case 2:return c=t.sent(),[3,6];case 3:return e<=r-1?[4,s(r-1-(l(e)-e),r-1)]:[3,5];case 4:return c=t.sent(),[3,6];case 5:throw new Error("Error 404");case 6:return[3,8];case 7:return t.sent(),[3,8];case 8:return[2]}})})}),$("#go-button").click(function(){return __awaiter(r,void 0,void 0,function(){var r,e,n;return __generator(this,function(t){switch(t.label){case 0:return[4,u()];case 1:return(r=t.sent(),e=a($("#index").val(),!1),n=l(e)-e,e<0)?(alert("only insert Id greater than or equal to 0"),[3,5]):[3,2];case 2:return Math.floor(e).toString()==e.toString()!=!0?[3,5]:r-n<e?(alert("You may not insert a desired Id greater than "+(r-n)),[3,5]):[3,3];case 3:return[4,s(e,e+n<r?e+n:r-1)];case 4:c=t.sent(),t.label=5;case 5:return[2]}})})}),[2]}})})}})();